<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Lander</title>
    <link rel="stylesheet" href="./pesapal.css">
    <link rel="stylesheet" href="../../index.css">
</head>
<body>



  <h1>MOVIE LANDER </h1>

  <h1>Pay Ment Made For Daily Subscription</h1>

  <h1>Thank You For Pay For Your </h1>
  
  <button>SEE MORE APPS</button>

  <button>BACK TO MOVIE LANDER</button>

  <script>

  fetch('https://e-corpcompanygroupmovieslander.github.io/MovieLanderApp/PAGES/PAYMENT%20SYSTEM/dailypesapal.html')
    .then(res => {
      // Extract headers as an object
      const headers = {};
      res.headers.forEach((value, name) => {
        headers[name] = value;
      });

      // Get URL parameters
      const urlParams = new URLSearchParams(window.location.search);
      const params = {};
      for (const [key, value] of urlParams) {
        params[key] = value;
      }

      // Read response body as text
      return res.text().then(body => {
        // Combine all data into an object
        const requestData = {
          url: res.url,
          method: res.method,
          headers: headers,
          parameters: params,
          body: body
        };

          // Get current time
    const currentTime = new Date();

    // Calculate expiration time (24 hours)
    const expirationTime = new Date(currentTime.getTime() + (24 * 60 * 60 * 1000));

    // Save expiration time parts separately
    localStorage.setItem('currentdate', currentTime.toDateString());
    localStorage.setItem('currenttime', currentTime.toLocaleTimeString());
    localStorage.setItem('expiryDate', expirationTime.toDateString());
    localStorage.setItem('expiryTime', expirationTime.toLocaleTimeString());
    localStorage.setItem('expiryHours', expirationTime.getHours().toString());

        // Save the combined data to local storage
        localStorage.setItem('requestData', JSON.stringify(requestData));

        // Return the combined data
        return requestData;
      });
    })
    .then(requestData => {
      // Here you can access the combined data if needed
      console.log(requestData);
    })
    .catch(error => console.log(error, 'error'));



  </script>


    
</body>
</html>